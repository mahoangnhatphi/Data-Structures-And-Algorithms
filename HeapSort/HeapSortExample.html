<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="Generator" content="Microsoft Word 97">
<title>HeapSort Example</title>
<meta name="Template" content="C:\PROGRAM FILES\MICROSOFT OFFICE\OFFICE\html.dot">
<link rel="stylesheet" crossorigin="anonymous" href="HeapSortExample_files/main.css"><style type="text/css" nonce="42843B7A0A1A5442A3C1DA071D228D31">#AD_Top,#AD_banner,#AdColumn,#AdContainer,#AdHeader,#AdImage,#Adcode,#AdvertiseFrame,#Advertisements,#BottomAdContainer,#BottomAds,#ContentAd,#PreRollAd,#RightAdBlock,#TopAd,#WNAd41,#ad-area,#ad-background,#ad-bg,#ad-bottom,#ad-container,#ad-header,#ad-header-728x90,#ad-leaderboard,#ad-main,#ad-panel,#ad-right,#ad-rotator,#ad-text,#ad-top,#ad-top-banner-placeholder,#ad-top-wrapper,#ad-unit,#ad-wrapper,#ad468,#ad728,#ad728x90,#adBanner,#adBelt,#adComponentWrapper,#adDiv,#adFrame,#adGallery,#adHeader,#adHolder,#adLayer,#adLeader,#adPosition0,#adText,#ad_1,#ad_2,#ad_3,#ad_4,#ad_5,#ad_728_90,#ad_area,#ad_banner,#ad_center,#ad_content,#ad_header,#ad_leaderboard,#ad_main,#ad_overlay,#ad_space,#ad_square,#ad_table,#ad_topslot,#ad_unit,#ad_wrap,#ad_wrapper,#adaptv_ad_player_div,#adbackground,#adbanner,#adbar,#adblock,#adboard,#adbody,#adbox,#adcode,#adcontainer,#adcontainer1,#adcontent,#adhead,#adheader,#adimg1,#adlayer,#adnews,#adposition3,#adright,#ads-col,#ads-wrapper,#ads1,#adsHeader,#ads_bottom,#ads_right,#ads_top,#ads_wrapper,#adsdiv,#adsense,#adsense_block,#adsense_inline,#adsensewide,#adspace,#adspace_top,#adspot-300x250-pos-1,#adspot-300x250-pos-2,#adstop,#adtext,#adtop,#adv-masthead,#adv-top,#advert1,#advert2,#advertContainer,#advert_box,#advertise,#advertisement1,#advertisetop,#advertising_wrapper,#adverts,#advtop,#adwrapper,#banner-ad,#bannerAd,#bannerAdWrapper,#banner_topad,#bannerad,#bigAd,#bigad,#body_ad,#bottomAd,#bottomAds,#bottom_ad,#centerads,#cmn_ad_tag_head,#companionAd,#content-header-ad,#contentAd,#content_ads,#content_adv,#contentad,#dart-container-728x90,#dfp_ad_Entry_728x90,#dfp_ad_Home_728x90,#divAd,#div_prerollAd_1,#download_ad,#featuread,#featured-ads,#featuredAds,#footer_ad,#footer_ads,#game-ad,#googlead,#gridAdSidebar,#head-ad,#header-ads,#headerAd,#headerAdContainer,#header_ad,#homead,#ka_adRightSkyscraperWide,#leaderAd,#leaderBoardAd,#leaderboard-ad,#leaderboard-advertisement,#leaderboardad,#left-ad,#left_ads,#leftad,#leftads,#logoAd,#logo_ad,#mainAd,#main_ad,#mpu2,#mpu2_container,#mpu_container,#msad,#my-adsFPAD,#myAd,#player_ads,#pre_advertising_wrapper,#prerollAd,#promo-ad,#publicidad,#reklama,#rh-ad,#right_ads,#right_adsense,#search-sponsor,#searchAd,#search_ads,#sideAd,#side_ads,#sidebar-ads,#sidebar_ad,#sidebar_ads,#skybox-ad,#sponsorAdDiv,#sponsorText,#sponsoredwellcontainerbottom,#sponsors-home,#takeover_ad,#text-ads,#theAd,#top-ad,#top-ad-content,#topAd,#topAdSpace,#topAdSpace_div,#topAdvert,#topBannerAd,#top_ad,#top_ads,#topad,#topadvert,#topbannerad,#under_story_ad,#videoAd,#videoads,.ADBAR,.AdBar,.AdBody:not(body),.AdBox,.AdInfo,.AdSidebar,.AdTitle,.AdvertContainer,.HomeAds,.IM_ad_unit,.LazyLoadAd,.RelatedAds,.SponsoredContent,.ad-300x250,.ad-970,.ad-banner,.ad-block,.ad-body,.ad-border,.ad-btn,.ad-button,.ad-cat,.ad-cell,.ad-display,.ad-enabled,.ad-header,.ad-holder,.ad-img,.ad-inner,.ad-item,.ad-leader-top,.ad-leaderboard,.ad-left,.ad-link,.ad-links,.ad-loaded,.ad-panel,.ad-placement,.ad-rail,.ad-right,.ad-row,.ad-scroll,.ad-section,.ad-served,.ad-sidebar,.ad-source,.ad-square,.ad-stack,.ad-text,.ad-top,.ad-unit,.ad-unit-300-wrapper,.ad-vertical-container,.ad-wide,.ad-wrap,.ad-wrapper,.ad300,.ad468,.ad728,.ad90,.adBar,.adBlock,.adBottomBoard,.adBox,.adChoicesLogo,.adContent,.adDiv,.adElement,.adFrame,.adFrameCnt,.adHead,.adHeader,.adHeaderblack,.adHeadline,.adHolder,.adHoldert,.adImg,.adItem,.adLink,.adMessage,.adMiddle,.adMod,.adModule,.adOverlay,.adPanel,.adPod,.adResult,.adRight,.adRotator,.adSpace,.adSpot,.adText,.adTitle,.adTopHome,.adWidget,.adWrap,.ad_1,.ad_160,.ad_160x600,.ad_2,.ad_3,.ad_728x90,.ad_960,.ad_Right,.ad_block,.ad_body,.ad_bottom,.ad_container,.ad_description,.ad_global_header,.ad_head_rectangle,.ad_header,.ad_img,.ad_item,.ad_leaderboard,.ad_middle,.ad_outer,.ad_promo,.ad_slug_table,.ad_space,.ad_spot,.ad_text,.ad_title,.ad_trick_header,.ad_trick_left,.ad_wrap,.ad_wrapper,.adarea,.adbanner,.adbar,.adbottom,.adbutton,.adcolumn,.adcont,.addiv,.adframe,.adfree,.adheader,.adholder,.adinfo,.adkit,.adlink,.adlist,.admain,.admiddle,.adright,.adrow1,.adrow2,.ads-1,.ads-2,.ads-3,.ads-300-250,.ads-area,.ads-bg,.ads-col,.ads-header,.ads-holder,.ads-inline,.ads-item,.ads-right,.ads-section,.ads-title,.ads-top,.ads1,.adsBlock,.adsWidget,.ads_catDiv,.ads_div,.ads_top,.ads_wrapper,.adsbottombox,.adsbox,.adsbygoogle,.adscontainer,.adshome,.adside,.adslot,.adslot_blurred,.adspace,.adtable,.adtile,.adtop,.adv300,.adv_300,.adv_txt,.advert-block,.advert-box,.advert-container,.advert-content,.advert-horizontal,.advert-wrapper,.advert2,.advertColumn,.advertContainer,.advertLink,.advertText,.advert_area,.advert_container,.advert_list,.advertbox,.advertisement-1,.advertisement-block,.advertiser,.advertising_banner,.advertising_block,.advertisment,.advertorial,.adverts,.adverttext,.adwords,.afs_ads,.after-post-ad,.article_ad,.b-advert,.banner-ad,.banner-ads,.banner160x600,.banner300,.bannerAd,.banner_728x90,.banner_ad,.bannerad,.block-ad,.block-ec_ads,.block-simpleads,.blog-ads,.bottom-ad,.bottom-ads,.bottom-left-ad,.bottomAds,.bottom_ad_block,.box-ads,.box-radvert,.box-recommend-ad,.box_ads,.box_adv,.boxad,.boxadv,.btn-ad,.can_ad_slug,.category-ad,.change_AdContainer,.chitikaAdBlock,.commerce-inset,.container_ad,.container_row_ad,.contentAd,.contentAds,.content_ads,.content_tagsAdTech,.cp-adsInited,.custom-ad,.desktop-ad,.dfp-ad,.dfp-ad-unit,.dfp-tag-wrapper,.displayAd,.download_ad,.ec-ads-remove-if-empty,.featured-ad,.featuredAdBox,.flash-advertisement,.footer-ad,.footer-ads,.footer_ad,.footerad,.forumAd,.gallery-ad,.google-sponsored,.googleAdSense,.googleAds,.greyAd,.has-ad,.hasads,.header-ad,.headerAd,.header_ad,.header_ad_center,.header_advert,.headerad,.headerads,.home-ad,.home-ads,.homeAd,.homead,.homepage-ad,.homepage_ads,.horizontal_ad,.img_ad,.imgad,.inner_ad,.innerad,.insert-post-ads,.interstitial_ad_wrapper,.ipsAd,.item-ads,.item-container-ad,.js-sticky-ad,.leaderboard-ad,.leaderboard-ads,.leftAd,.leftad,.list-ad,.list-ads,.listad,.logo-ad,.marketing-ad,.mid_ad,.middle_AD,.mod-adopenx,.module-ad,.nav-ad,.newsAd,.node-ad,.oasad,.oio-banner-zone,.openx,.overlay-ads,.page-ad,.page_ad,.pfAd,.plainAd,.playerAd,.player_ad,.player_hover_ad,.pm-ad,.post-ad,.post-sponsored,.post_ad,.postad,.premiumAdOverlay,.premiumAdOverlayClose,.promoAd,.pub_300x250,.pub_300x250m,.pub_728x90,.publicidade,.pushdown-ad,.rail-ad,.rbRectAd,.rectangle_ad,.refreshAds,.region-top-ad-position,.reklam,.reklama,.reportAdLink,.resultad,.review-ad,.right-ad,.rightAd,.right_ad,.right_ads_column,.rightad,.rightadv,.searchAds,.searchad,.searchads,.section-sponsor,.showAd,.side-ad,.side-bar-ad-position1,.sideAd,.sidebar-ads,.single-ad,.singleAd,.skinAd,.sky_ad,.skyscraperAd,.slide-ad,.smallAd,.small_ad,.smallads,.sponsor-box,.sponsor-logo,.sponsorBlock,.sponsorBottom,.sponsoredLinks,.sponsorlink,.sticky-ad,.story-ad,.taboola-ad,.tc_ad_unit,.text-ad,.text-ad-links,.text-ads,.textAd,.text_ad,.text_ads,.textad,.textads,.top-ad,.top-ad-container,.top-ad-content,.top-ad-wrapper,.topAds,.top_ad,.top_ad_div,.top_ad_wrap,.top_ads,.topads,.tower-ad,.trc-content-sponsored,.trc_rbox .syndicatedItem,.trc_rbox_border_elm .syndicatedItem,.trc_rbox_div .syndicatedItem,.trc_related_container div[data-item-syndicated="true"],.type_ads_default,.view_ad,.wideAd,.withAds,.wnad,.wpInsertInPostAd,.yom-ad,[href^="http://join.seemygf.com/track/"],[href^="http://myalternativegflink.com/track/"],[href^="http://secure.18exgfs.com/track/"],[href^="http://secure.badassgirlfriends.com/track/"],[href^="http://secure.chatrevenge.com/track/"],[href^="http://secure.fubilov.com/track/"],[href^="http://secure.hotgfvideos.com/track/"],[href^="http://secure.mynngf.com/track/"],[href^="http://secure.obsessedwithmyself.com/track/"],[href^="http://secure.slutswithphones.com/track/"],[href^="http://secure.watchmygf.com/track/"],a[href*=".trust.zone"],a[href*="/adrotate-out.php?"],a[href*="medicinetizer.ru"],a[href*="runetki.com"],a[href^="http://ad-emea.doubleclick.net/"],a[href^="http://ad.doubleclick.net/"],a[href^="http://adfarm.mediaplex.com/"],a[href^="http://ads.betfair.com/redirect.aspx?"],a[href^="http://ads2.williamhill.com/redirect.aspx?"],a[href^="http://adserving.unibet.com/"],a[href^="http://adultfriendfinder.com/p/register.cgi?pid="],a[href^="http://affiliate.coral.co.uk/processing/"],a[href^="http://marketgid.com"],a[href^="http://mgid.com/"],a[href^="http://online.ladbrokes.com/promoRedirect?"],a[href^="http://pubads.g.doubleclick.net/"],a[href^="http://us.marketgid.com"],a[href^="http://www.bet365.com/home/?affiliate"],a[href^="http://www.fbooksluts.com/"],a[href^="http://www.fleshlight.com/"],a[href^="http://www.liutilities.com/"],a[href^="http://www.socialsex.com/"],a[href^="http://www.yourfuckbook.com/?"],div[id^="MarketGid"],div[id^="dfp-ad-"],div[id^="div-gpt-ad"],div[id^="google_ads_iframe_"],div[itemtype="http://schema.org/WPAdBlock"],iframe[id^="google_ads_frame"],iframe[id^="google_ads_iframe"],iframe[src^="http://ad.yieldmanager.com/"] {display: none !important; color: #1b9b36 !important; background-color: #bc7ce9 !important;}</style></head>
<body vlink="purple" link="darkblue" bgcolor="#660000">
<font size="2" face="Arial">

<table width="750" cellspacing="0" cellpadding="7" border="0" background="HeapSortExample_files/background.gif" align="CENTER">
<tbody><tr><td align="right">
<b><p align="right">CmSc 250  Intro to Algorithms</p></b>
<hr color="navy">

</td></tr>
<tr><td>

<dir><b>
<font size="4" color="navy"><p>An Example of Heapsort:</p>
</font>
<font size="2">
</font></b><p><font size="2">Given an array of 6 elements: 15, 19, 10, 7, 17, 16, sort 
it in ascending order using heap sort.</font></p><font size="2">
<p>Steps:</p>
<ol>
<li>Consider the values of the elements as priorities and build the heap 
tree.</li>
<li>Start deleteMin operations, storing each deleted element at 
the end of the heap array.</li>
</ol>
<p>After performing step 2, the order of the elements will be 
opposite to the order in the heap tree. <br>
Hence, 
if we want the elements to be sorted in ascending order, 
we need to build the heap tree <br>in descending order - the 
greatest element will have the highest priority.</p>

<p>Note that we use only one array , treating its parts 
differently:</p>
<ol type="a">
<li>when building the heap tree, part of the array will 
be considered as the heap, <br>and the rest part - 
the original array.</li>
<li>when sorting, part of the array will be the heap, 
and the rest part - the sorted array.</li>
</ol>
<p>This will be indicated by colors: 
white for the original array, blue for the heap and red 
for the sorted array</p>
<p>Here is the array:  15, 19, 10, 7, 17, 6</p>
<ol type="A">

<b><li>Building the heap tree</li></b>

The array represented as a tree, complete but not ordered:<p></p>

<img src="HeapSortExample_files/L13ex-Fig01.jpg"><p></p>

<p>Start with the rightmost node at height 1 - the node at position 3 = Size/2. <br>
It has one greater child and
has to be percolated down:</p>

<img src="HeapSortExample_files/L13ex-Fig02.jpg">

<p>After processing array[3] the situation is:</p>
<img src="HeapSortExample_files/L13ex-Fig03.jpg"><p></p>

Next comes array[2]. Its children are smaller, so no percolation is needed.<p></p>
<img src="HeapSortExample_files/L13ex-Fig04.jpg"><p></p>

<p>The last node to be processed is array[1]. Its left child is the 
greater of the children. <br>
The item at array[1] has to be percolated down to the left, swapped 
with array[2].</p>
<img src="HeapSortExample_files/L13ex-Fig05.jpg"><p></p>

<p>As a result the situation is: </p>

<img src="HeapSortExample_files/L13ex-Fig06.jpg"><p></p>

<p>The children of array[2] are greater, and item 15 has to be moved down further,
swapped with array[5].</p>

<img src="HeapSortExample_files/L13ex-Fig07.jpg"><p></p>

Now the tree is ordered, and the binary heap is built.<p></p>


<b><li>Sorting - performing deleteMax operations:</li></b><p></p>



<b>1. Delete the top element 19. </b>

<p>1.1. Store 19 in a temporary place. A hole is created at the top</p>


<img src="HeapSortExample_files/L13ex-Fig08.jpg">


<p>1.2. Swap 19 with the last element of the heap. <br>
</p><dir>
As 10 will be adjusted in the heap, its cell will no longer 
be a part of the heap. <br>
Instead it becomes a cell from the sorted array<p></p>
</dir>

<img src="HeapSortExample_files/L13ex-Fig09.jpg">

<p>1.3. Percolate down the hole </p>

<img src="HeapSortExample_files/L13ex-Fig10.jpg">


<p>1.4. Percolate once more (10 is less that 15, so it 
cannot be inserted in the previous hole)</p>

<img src="HeapSortExample_files/L13ex-Fig11.jpg"><p></p>


<p>Now 10 can be inserted in the hole</p>

<img src="HeapSortExample_files/L13ex-Fig12.jpg"><p></p>


<b>2. DeleteMax the top element 17</b>

<p>2.1. Store 17 in a temporary place. A hole is created at the top</p>

<img src="HeapSortExample_files/L13ex-Fig13.jpg"><p></p>

<p>2.2. Swap 17 with the last element of the heap. <br></p><dir>

As 10 will be adjusted in the heap, its cell will no longer 
be a part of the heap.<br>
Instead it becomes a cell from the sorted array<p></p>
</dir>

<img src="HeapSortExample_files/L13ex-Fig14.jpg"><p></p>


<p>2.3. The element 10 is less than the children of the hole, 
and we percolate the hole down:</p>

<img src="HeapSortExample_files/L13ex-Fig15.jpg"><p></p>


<p>2.4. Insert 10 in the hole</p>

<img src="HeapSortExample_files/L13ex-Fig16.jpg"><p></p>


<b>3. DeleteMax 16</b>

<p>3.1. Store 16 in a temporary place. A hole 
is created at the top</p>

<img src="HeapSortExample_files/L13ex-Fig17.jpg">
<p></p>

<p>3.2. Swap 16 with the last element of the heap. <br>
</p><dir>

As 7 will be adjusted in the heap, its cell will no longer 
be a part of the heap.<br> 
Instead it becomes a cell from the sorted array<p></p>
</dir>

<img src="HeapSortExample_files/L13ex-Fig18.jpg">
<p></p>
<p>3.3. Percolate the hole down (7 cannot be inserted there - it is 
less than the children of the hole)</p>

<img src="HeapSortExample_files/L13ex-Fig19.jpg">
<p></p>
<p>3.4. Insert 7 in the hole</p>

<img src="HeapSortExample_files/L13ex-Fig20.jpg"><p></p>

<b>4. DeleteMax the top element 15</b>
<p>4.1. Store 15 in a temporary location. A hole is created.</p>

<img src="HeapSortExample_files/L13ex-Fig21.jpg">
<p></p>
<p>4.2. Swap 15 with the last element of the heap. <br></p><dir>

As 10 will be adjusted in the heap, its cell will no longer 
be a part of the heap. <br>
Instead it becomes a position from the sorted array<p></p>
</dir>
<img src="HeapSortExample_files/L13ex-Fig22.jpg">
<p></p>
<p>4.3. Store 10 in the hole (10 is greater than the children of 
the hole)</p>


<img src="HeapSortExample_files/L13ex-Fig23.jpg">
<p></p>
<b>5. DeleteMax the top element 10.</b>
<p>5.1. Remove 10 from the heap and store it into a 
temporary location. </p>

<img src="HeapSortExample_files/L13ex-Fig24.jpg">
<p></p>
<p>5.2. Swap 10 with the last element of the heap. <br></p><dir>

As 7 will be adjusted in the heap, its cell will no longer 
be a part of the heap. Instead it becomes a cell from the sorted 
array<p></p>
</dir>
<img src="HeapSortExample_files/L13ex-Fig25.jpg">
<p></p>
<p>5.3. Store 7 in the hole (as the only remaining element in 
the heap</p>

<img src="HeapSortExample_files/L13ex-Fig26.jpg">
<p></p>

<p>7 is the last element from the heap, so now the array is sorted</p>

<img src="HeapSortExample_files/L13ex-Fig27.jpg">
<p></p>
</ol>
</font></dir><font size="2">
</font></td></tr>
<tr><td>

<font size="2">
<hr color="navy">
<a href="http://faculty.simpson.edu/lydia.sinapova/www/cmsc250/LN250_Weiss/L13-HeapSort.htm">Back to HeapSort</a>
</font>

</td></tr>
</tbody></table>



</font></body></html>